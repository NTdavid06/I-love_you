<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Para Mi Negrita - 3 Meses Juntos üíñ</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
      font-family: 'Great Vibes', cursive;
      background: linear-gradient(-45deg, #ffc0cb, #ffe4e1, #ffb6c1, #ffd7e4);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      overflow: hidden;
      touch-action: pan-y;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    main {
      height: 100%;
      position: relative;
    }

    .page {
      width: 100vw;
      height: 100vh;
      position: absolute;
      top: 0;
      left: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 2rem;
      transition: left 1s cubic-bezier(0.4, 0, 0.2, 1);
      pointer-events: none;
    }

    .page.active {
      left: 0;
      pointer-events: all;
    }

    /* TEXTO M√ÅS GRANDE PARA MEJOR LEGIBILIDAD */
    h1 {
      font-size: 5.5rem; /* Aumentado de 4rem */
      color: #c71585;
      text-shadow: 3px 3px 8px rgba(255, 255, 255, 0.9);
      margin-bottom: 1.5rem;
      line-height: 1.2;
      letter-spacing: 1px;
    }

    p {
      font-size: 2.5rem; /* Aumentado de 1.8rem */
      color: #800040;
      max-width: 800px; /* M√°s ancho para m√°s texto */
      margin: 1.5rem auto;
      line-height: 1.5;
      font-weight: 500;
      text-shadow: 1px 1px 3px rgba(255, 255, 255, 0.7);
    }

    button {
      margin-top: 3rem;
      padding: 1.2rem 2.5rem;
      font-size: 1.8rem; /* Aumentado de 1.2rem */
      background: linear-gradient(145deg, #ff69b4, #ff1493);
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(255, 105, 180, 0.4);
      transition: all 0.3s ease;
      animation: pulse 2s infinite;
      font-family: 'Great Vibes', cursive;
      min-height: 60px;
      min-width: 180px;
      letter-spacing: 1px;
    }

    button:hover {
      background: linear-gradient(145deg, #ff1493, #ff69b4);
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(255, 105, 180, 0.5);
    }

    button:active {
      transform: scale(0.95);
      animation: none;
    }

    @keyframes pulse {
      0% { transform: scale(1); box-shadow: 0 8px 20px rgba(255, 105, 180, 0.4); }
      50% { transform: scale(1.07); box-shadow: 0 12px 25px rgba(255, 105, 180, 0.5); }
      100% { transform: scale(1); box-shadow: 0 8px 20px rgba(255, 105, 180, 0.4); }
    }

    .heart {
      position: absolute;
      width: 25px; /* Aumentado ligeramente */
      height: 25px;
      background: linear-gradient(45deg, #ff1493, #ff69b4);
      transform: rotate(45deg);
      animation: float 10s infinite ease-in;
      opacity: 0.6;
      will-change: transform;
      mix-blend-mode: multiply;
      z-index: 1;
    }

    .heart::before, .heart::after {
      content: '';
      position: absolute;
      width: 25px;
      height: 25px;
      background: linear-gradient(45deg, #ff1493, #ff69b4);
      border-radius: 50%;
    }

    .heart::before {
      top: -12.5px;
      left: 0;
    }

    .heart::after {
      top: 0;
      left: -12.5px;
    }

    @keyframes float {
      0% {
        transform: translateY(100vh) rotate(45deg) scale(0.8);
        opacity: 0;
      }
      10% {
        opacity: 0.6;
      }
      90% {
        opacity: 0.4;
      }
      100% {
        transform: translateY(-10vh) rotate(45deg) scale(1.2);
        opacity: 0;
      }
    }

    .progress {
      position: fixed;
      top: 25px;
      right: 25px;
      background: rgba(255, 255, 255, 0.9);
      padding: 10px 18px;
      border-radius: 25px;
      font-size: 1.4rem; /* Aumentado */
      color: #c71585;
      z-index: 1000;
      box-shadow: 0 6px 15px rgba(0,0,0,0.15);
      font-family: Arial, sans-serif;
      font-weight: bold;
    }

    .navigation-hint {
      position: fixed;
      bottom: 25px;
      left: 0;
      right: 0;
      text-align: center;
      font-size: 1.2rem; /* Aumentado */
      color: #800040;
      opacity: 0.8;
      z-index: 1000;
      font-family: Arial, sans-serif;
      padding: 10px;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(5px);
      border-radius: 15px;
      margin: 0 20px;
    }

    /* Responsividad ajustada para texto grande */
    @media (max-width: 1024px) {
      h1 {
        font-size: 4.5rem;
        padding: 0 1.5rem;
      }
      
      p {
        font-size: 2.2rem;
        padding: 0 1.5rem;
        max-width: 700px;
      }
      
      button {
        font-size: 1.6rem;
        padding: 1rem 2rem;
      }
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 3.8rem;
        padding: 0 1rem;
      }
      
      p {
        font-size: 1.9rem;
        padding: 0 1rem;
        max-width: 600px;
      }
      
      button {
        padding: 1rem 2rem;
        font-size: 1.5rem;
        min-height: 55px;
        min-width: 160px;
      }
      
      .heart {
        width: 20px;
        height: 20px;
      }
      
      .heart::before,
      .heart::after {
        width: 20px;
        height: 20px;
      }
      
      .heart::before {
        top: -10px;
      }
      
      .heart::after {
        left: -10px;
      }
      
      .progress {
        font-size: 1.2rem;
        padding: 8px 15px;
        top: 15px;
        right: 15px;
      }
      
      .navigation-hint {
        font-size: 1rem;
        margin: 0 15px;
        bottom: 15px;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 3.2rem;
        padding: 0 0.8rem;
      }
      
      p {
        font-size: 1.7rem;
        padding: 0 0.8rem;
        max-width: 100%;
      }
      
      button {
        padding: 0.9rem 1.8rem;
        font-size: 1.4rem;
        min-height: 50px;
        min-width: 140px;
        margin-top: 2rem;
      }
      
      .progress {
        font-size: 1rem;
        padding: 6px 12px;
        top: 10px;
        right: 10px;
      }
      
      .navigation-hint {
        font-size: 0.9rem;
        margin: 0 10px;
        bottom: 10px;
      }
    }

    @media (max-width: 360px) {
      h1 {
        font-size: 2.8rem;
      }
      
      p {
        font-size: 1.5rem;
      }
      
      button {
        font-size: 1.3rem;
      }
    }

    /* Mejorar compatibilidad con navegadores */
    @supports not (mix-blend-mode: multiply) {
      .heart {
        opacity: 0.4;
      }
    }

    /* A√±adir contenedor para mejor control del texto */
    .text-container {
      max-width: 90%;
      margin: 0 auto;
    }

    /* Mejorar contraste para legibilidad */
    .page {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      margin: 20px;
      width: calc(100vw - 40px);
      height: calc(100vh - 40px);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }

    .page.active {
      background: rgba(255, 255, 255, 0.25);
    }
  </style>
</head>
<body>

  <main role="main" aria-live="polite">
    <!-- Progreso de p√°ginas -->
    <div class="progress" id="progress">1/4</div>

    <!-- P√°gina 1 -->
    <div class="page active" id="page1" role="region" aria-label="P√°gina 1: Introducci√≥n">
      <div class="text-container">
        <h1>Hola mi Negrita üíå</h1>
        <p>Hoy quiero regalarte algo especial‚Ä¶ una peque√±a carta hecha con todo mi coraz√≥n, solo para ti.</p>
      </div>
      <button onclick="app.nextPage()" aria-label="Ir a la siguiente p√°gina">
        Ver m√°s
      </button>
    </div>

    <!-- P√°gina 2 -->
    <div class="page" id="page2" role="region" aria-label="P√°gina 2: Agradecimiento">
      <div class="text-container">
        <h1>Gracias por existir üíñ</h1>
        <p>Tu sonrisa ilumina mis d√≠as y tu voz es la melod√≠a que m√°s amo escuchar. Eres mi sue√±o hecho realidad.</p>
      </div>
      <button onclick="app.nextPage()" aria-label="Ir a la siguiente p√°gina">
        Siguiente
      </button>
    </div>

    <!-- P√°gina 3 -->
    <div class="page" id="page3" role="region" aria-label="P√°gina 3: Promesa">
      <div class="text-container">
        <h1>Siempre juntos üíò</h1>
        <p>Prometo cuidarte, respetarte y hacerte sentir amada todos los d√≠as de nuestras vidas. Eres mi todo.</p>
      </div>
      <button onclick="app.nextPage()" aria-label="Ir a la √∫ltima p√°gina">
        √öltima
      </button>
    </div>

    <!-- P√°gina 4 -->
    <div class="page" id="page4" role="region" aria-label="P√°gina 4: Amor eterno">
      <div class="text-container">
        <h1>Te amo mi negrita üíû</h1>
        <p>Y siempre te amar√©, m√°s all√° del tiempo y de la vida. Gracias por ser t√∫.</p>
      </div>
      <button onclick="app.restart()" aria-label="Volver al inicio">
        Volver a leer
      </button>
    </div>

    <!-- Indicador de navegaci√≥n -->
    <div class="navigation-hint" id="navHint">
      ‚Üê Desliza o usa las flechas ‚Üí
    </div>
  </main>

  <script>
    // Aplicaci√≥n principal
    const app = {
      currentPage: 1,
      totalPages: 4,
      isTransitioning: false,
      touchStartX: 0,
      touchEndX: 0,

      // Inicializar la aplicaci√≥n
      init() {
        this.createHearts();
        this.setupEventListeners();
        this.updateProgress();
        this.updateNavHint();
        
        // Ocultar indicador de navegaci√≥n despu√©s de 5 segundos
        setTimeout(() => {
          document.getElementById('navHint').style.opacity = '0.3';
        }, 5000);
      },

      // Crear corazones flotantes optimizados
      createHearts() {
        const fragment = document.createDocumentFragment();
        // Calcular n√∫mero de corazones seg√∫n el ancho de pantalla
        const totalHearts = Math.min(35, Math.floor(window.innerWidth / 20));
        
        for (let i = 0; i < totalHearts; i++) {
          const heart = document.createElement('div');
          heart.className = 'heart';
          heart.setAttribute('aria-hidden', 'true');
          
          // Posici√≥n aleatoria
          heart.style.left = `${Math.random() * 100}vw`;
          
          // Animaci√≥n con duraci√≥n variada
          const duration = 8 + Math.random() * 7;
          heart.style.animationDuration = `${duration}s`;
          
          // Retraso aleatorio para que no empiecen todas juntas
          heart.style.animationDelay = `${Math.random() * 5}s`;
          
          // Opacidad aleatoria
          heart.style.opacity = Math.random() * 0.4 + 0.3;
          
          fragment.appendChild(heart);
        }
        
        document.body.appendChild(fragment);
      },

      // Configurar event listeners
      setupEventListeners() {
        // Navegaci√≥n con teclado
        document.addEventListener('keydown', (e) => {
          if (e.key === 'ArrowRight' || e.key === ' ') {
            this.nextPage();
          } else if (e.key === 'ArrowLeft') {
            this.prevPage();
          }
        });

        // Swipe para m√≥viles
        document.addEventListener('touchstart', (e) => {
          this.touchStartX = e.changedTouches[0].screenX;
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
          this.touchEndX = e.changedTouches[0].screenX;
          this.handleSwipe();
        }, { passive: true });

        // Click en botones (event delegation)
        document.addEventListener('click', (e) => {
          if (e.target.tagName === 'BUTTON') {
            // La funci√≥n se llama desde el onclick en el HTML
            // Solo prevenimos el comportamiento por defecto
            e.preventDefault();
          }
        });

        // Actualizar progreso al redimensionar
        window.addEventListener('resize', () => {
          this.updateProgress();
        });
      },

      // Manejar swipe
      handleSwipe() {
        const swipeThreshold = 50;
        
        if (this.touchStartX - this.touchEndX > swipeThreshold) {
          this.nextPage(); // Swipe izquierda
        }
        
        if (this.touchEndX - this.touchStartX > swipeThreshold) {
          this.prevPage(); // Swipe derecha
        }
      },

      // Ir a la siguiente p√°gina
      nextPage() {
        if (this.isTransitioning || this.currentPage >= this.totalPages) return;
        
        this.isTransitioning = true;
        const current = document.getElementById(`page${this.currentPage}`);
        const next = document.getElementById(`page${this.currentPage + 1}`);
        
        // Transici√≥n
        current.classList.remove('active');
        this.currentPage++;
        next.classList.add('active');
        
        // Actualizar UI
        this.updateProgress();
        
        // Resetear flag despu√©s de la transici√≥n
        setTimeout(() => {
          this.isTransitioning = false;
        }, 1000);
        
        // Efecto visual de transici√≥n (opcional)
        this.playTransitionEffect();
      },

      // Ir a la p√°gina anterior
      prevPage() {
        if (this.isTransitioning || this.currentPage <= 1) return;
        
        this.isTransitioning = true;
        const current = document.getElementById(`page${this.currentPage}`);
        const prev = document.getElementById(`page${this.currentPage - 1}`);
        
        // Transici√≥n
        current.classList.remove('active');
        this.currentPage--;
        prev.classList.add('active');
        
        // Actualizar UI
        this.updateProgress();
        
        // Resetear flag despu√©s de la transici√≥n
        setTimeout(() => {
          this.isTransitioning = false;
        }, 1000);
        
        // Efecto visual de transici√≥n
        this.playTransitionEffect();
      },

      // Reiniciar al inicio
      restart() {
        if (this.isTransitioning) return;
        
        this.isTransitioning = true;
        const current = document.getElementById(`page${this.currentPage}`);
        const first = document.getElementById('page1');
        
        // Transici√≥n
        current.classList.remove('active');
        this.currentPage = 1;
        first.classList.add('active');
        
        // Actualizar UI
        this.updateProgress();
        
        // Resetear flag despu√©s de la transici√≥n
        setTimeout(() => {
          this.isTransitioning = false;
        }, 1000);
        
        // Efecto visual especial para reinicio
        this.playRestartEffect();
      },

      // Efecto de transici√≥n (visual)
      playTransitionEffect() {
        // Crear efecto de part√≠culas breves
        for (let i = 0; i < 5; i++) {
          setTimeout(() => {
            const spark = document.createElement('div');
            spark.style.position = 'fixed';
            spark.style.width = '15px';
            spark.style.height = '15px';
            spark.style.background = '#ff69b4';
            spark.style.borderRadius = '50%';
            spark.style.left = `${Math.random() * 100}vw`;
            spark.style.top = `${Math.random() * 100}vh`;
            spark.style.zIndex = '9999';
            spark.style.animation = 'spark 0.5s forwards';
            
            // A√±adir animaci√≥n CSS temporal
            const style = document.createElement('style');
            style.textContent = `
              @keyframes spark {
                0% { transform: scale(0); opacity: 1; }
                100% { transform: scale(1.5); opacity: 0; }
              }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(spark);
            
            // Eliminar despu√©s de la animaci√≥n
            setTimeout(() => {
              spark.remove();
              style.remove();
            }, 500);
          }, i * 100);
        }
      },

      // Efecto especial para reinicio
      playRestartEffect() {
        // Crear explosi√≥n de corazones
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            const heart = document.createElement('div');
            heart.style.position = 'fixed';
            heart.style.width = '25px';
            heart.style.height = '25px';
            heart.style.background = '#ff1493';
            heart.style.transform = 'rotate(45deg)';
            heart.style.left = '50%';
            heart.style.top = '50%';
            heart.style.zIndex = '9999';
            
            // Coraz√≥n con pseudo-elementos
            heart.innerHTML = '<style>.restart-heart::before, .restart-heart::after { content: ""; position: absolute; width: 25px; height: 25px; background: #ff1493; border-radius: 50%; } .restart-heart::before { top: -12.5px; left: 0; } .restart-heart::after { top: 0; left: -12.5px; }</style>';
            heart.classList.add('restart-heart');
            
            // Animaci√≥n
            const angle = (i / 15) * Math.PI * 2;
            const distance = 100 + Math.random() * 100;
            const duration = 1 + Math.random();
            
            heart.style.animation = `
              restartExplosion ${duration}s forwards
            `;
            
            // A√±adir animaci√≥n CSS
            const style = document.createElement('style');
            style.textContent = `
              @keyframes restartExplosion {
                0% {
                  transform: rotate(45deg) scale(0);
                  opacity: 1;
                  left: 50%;
                  top: 50%;
                }
                100% {
                  transform: rotate(45deg) scale(1);
                  opacity: 0;
                  left: calc(50% + ${Math.cos(angle) * distance}px);
                  top: calc(50% + ${Math.sin(angle) * distance}px);
                }
              }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(heart);
            
            // Eliminar despu√©s
            setTimeout(() => {
              heart.remove();
              style.remove();
            }, duration * 1000);
          }, i * 50);
        }
      },

      // Actualizar indicador de progreso
      updateProgress() {
        const progress = document.getElementById('progress');
        progress.textContent = `${this.currentPage}/${this.totalPages}`;
      },

      // Actualizar indicador de navegaci√≥n
      updateNavHint() {
        const hint = document.getElementById('navHint');
        if (window.innerWidth <= 768) {
          hint.textContent = '‚Üê Desliza con el dedo ‚Üí';
        } else {
          hint.textContent = '‚Üê Usa las flechas o el clic ‚Üí';
        }
      }
    };

    // Inicializar cuando el DOM est√© listo
    document.addEventListener('DOMContentLoaded', () => {
      app.init();
      
      // A√±adir clase para animaciones suaves despu√©s de carga
      setTimeout(() => {
        document.body.style.opacity = '1';
      }, 100);
    });

    // Asegurar que el body tenga opacidad inicial
    document.body.style.opacity = '0';
    document.body.style.transition = 'opacity 0.5s ease';
  </script>

</body>
</html>